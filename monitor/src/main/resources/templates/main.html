<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:replace="mainheader.html :: mainHead"></head>

<script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.5.js"></script>
<script type="text/javascript">
    //$.noConflict();
    // chart colors
    var lineChartData;

    var tablelength = 0;

    var chartData = [, , , , , , , , , ,
        , , , , , , , , , ,
        , , , , , , , , , ,];
    var chartLabels = [];

    var chartData2 = [, , , , , , , , , ,
        , , , , , , , , , ,
        , , , , , , , , , ,];
    var chartLabels2 = [];

    var pieChartData = [];
    var pieChartLabels = [];

    var chartLabeltemp = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10',
        '11', '12', '13', '14', '15', '16', '17', '18', '19', '20',
        '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'];

    var barData = [];

    let sumUsage = 0;
    let sumMoney = 0;
    var sumbefore = 0;
    var thisLabel = "";
    var lastLabel = "";

    let parameter = "";
    let lastparameter = "";

    let parameterYear = "";
    let parameterMonth = "";
    let sessionRsc = "";
    let sessionStep = 0;
    let sessionEmail = "";

    window.onload = function () {

        //console.log();
        sessionRsc = document.getElementById("rscgrp").innerText;
        sessionAuth = document.getElementById("auth").innerText;
        sessionStep = document.getElementById("step").innerText * 1;
        sessionEmail = document.getElementById("email").innerText;

        document.getElementById("div_load_image").hidden = true;

        let step1register = $('#step1register').text();
        let step2check = $('#step2check').text();
        let step3deploying = $('#step3deploying').text();

        let averagedailythroughput = $('#averagedailythroughput').text();
        let amountlogusage = $('#amountlogusage').text();
        let logthroughput = $('#logthroughput').text();

        // placeholder
        let totaldailylogvol = $('#totaldailylogvol').text();
        let inputEle = document.getElementById('data0');
        inputEle.placeholder = totaldailylogvol;

        if (sessionRsc != "") {
            if (sessionAuth == "ROLE_ADMIN" ||sessionAuth == "ROLE_MANAGER" ){

                $('#grpSelcet option[value=' + sessionRsc + ']').attr('selected', 'selected');
            }
            document.getElementById("dashboard").hidden = false;
            document.getElementById("logsource").hidden = true;

            let today = new Date();
            let year = today.getFullYear();  // 월
            let month = today.getMonth() + 1;  // 월

            // parameter setting;
            if (month < 10) parameter = year + "-0" + month;
            else parameter = year + "-" + month;

            if (month < 10) parameterMonth = "0" + month;
            else parameterMonth = month;
            parameterYear = year;

            let monthVal = month * 1;
            let monthValprop = monthValfun(monthVal);

            //document.getElementById("thisMon1").innerText = monthVal + '월처리량'
            //document.getElementById("thisMon1").innerText = monthVal + document.getElementById("thisMon1").innerText;
            document.getElementById("thisMon2").innerText = monthValprop + ' ' + averagedailythroughput
            document.getElementById("thisMon3").innerText = monthValprop + ' ' + amountlogusage
            document.getElementById("thisMon4").innerText = monthValprop + ' ' + logthroughput
            thisLabel = monthValprop;

            let date = new Date();
            let firstDayOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);
            let lastMonth = new Date(firstDayOfMonth.setDate(firstDayOfMonth.getDate() - 1));

            let monthValLast = (lastMonth.getMonth() + 1) * 1;
            let yearLast = lastMonth.getFullYear();

            if (monthValLast < 10) lastparameter = yearLast + "-0" + monthValLast;
            else lastparameter = yearLast + "-" + monthValLast;

            //console.log(lastparameter);
            let monthValLastprop = monthValfun(monthValLast);

            //document.getElementById("lastMon1").innerText = monthValLast + '월처리량'
            document.getElementById("lastMon2").innerText = monthValLastprop + ' ' + logthroughput

            lastLabel = monthValLastprop;

            getMeterSum(sessionRsc);
            getMeterDetailList(sessionRsc);
            getUsageList(sessionRsc);
            setTimeout(getChatdata(sessionRsc), 1500);
            getResourceUsage(sessionRsc);
        } else {
            if (sessionStep == 1) {
                document.getElementById("logTitle").innerText = step2check;
                document.getElementById("step2").setAttribute("class", "step-item active");
                //$('#step2bar').css({"background": "darkblue"});
                document.getElementById("registerLog").hidden = true;
                document.getElementById("registerLog2").hidden = true;
                document.getElementById("registerLog3").hidden = true;
                document.getElementById("registerLog4").hidden = false;
                document.getElementById("registerSummary").hidden = false;
                document.getElementById("youtube").hidden = true;
                document.getElementById("loading").hidden = true;
                getLogList();
                getPeriod();
            } else if (sessionStep == 0) {
                //$('#step1bar').css({"background": "darkblue"});
                document.getElementById("step1").setAttribute("class", "step-item active");
                document.getElementById("logTitle").innerText = step1register;
                document.getElementById("registerLog").hidden = false;
                document.getElementById("registerLog2").hidden = false;
                document.getElementById("registerLog3").hidden = false;
                document.getElementById("registerLog4").hidden = true;
                document.getElementById("registerSummary").hidden = true;
                document.getElementById("youtube").hidden = true;
                document.getElementById("loading").hidden = true;

                $('input[name="costTotal"]').change(function () {
                    if ($(this).val() == "noRe") {
                        document.getElementById("costTotalBox").hidden = false;
                        document.getElementById("costTotal1Box").hidden = true;
                        document.getElementById("costTotal3Box").hidden = true;
                    } else if ($(this).val() == "Re1") {
                        document.getElementById("costTotalBox").hidden = true;
                        document.getElementById("costTotal1Box").hidden = false;
                        document.getElementById("costTotal3Box").hidden = true;
                    } else if ($(this).val() == "Re3") {
                        document.getElementById("costTotalBox").hidden = true;
                        document.getElementById("costTotal1Box").hidden = true;
                        document.getElementById("costTotal3Box").hidden = false;
                    }
                });
                getLogList();
            } else {
                document.getElementById("logTitle").innerText = step3deploying;
                document.getElementById("step3").setAttribute("class", "step-item active");

                //$('#step3bar').css({"background": "darkblue"});
                document.getElementById("registerLog").hidden = true;
                document.getElementById("registerLog2").hidden = true;
                document.getElementById("registerLog3").hidden = true;
                document.getElementById("registerLog4").hidden = true;
                document.getElementById("registerSummary").hidden = true;
                document.getElementById("youtube").hidden = false;
                document.getElementById("loading").hidden = false;
                var timer = setInterval(function () {
                    readLog();
                    ;
                }, 5000)
                //getLogList();
            }
            document.getElementById("dashboard").hidden = true;
            document.getElementById("logsource").hidden = false;
        }
    }

    let tempVal = 0;
    let logSumVal = 0;

    function monthValfun(monthVal){

        let monthValprop = "";

        switch (monthVal){
            case 1:
                monthValprop = $('#jan').text();
                break;
            case 2:
                monthValprop = $('#feb').text();
                break;
            case 3:
                monthValprop = $('#mar').text();
                break;
            case 4:
                monthValprop = $('#apr').text();
                break;
            case 5:
                monthValprop = $('#may').text();
                break;
            case 6:
                monthValprop = $('#jun').text();
                break;
            case 7:
                monthValprop = $('#jul').text();
                break;
            case 8:
                monthValprop = $('#aug').text();
                break;
            case 9:
                monthValprop = $('#sep').text();
                break;
            case 10:
                monthValprop = $('#oct').text();
                break;
            case 11:
                monthValprop = $('#nov').text();
                break;
            case 12:
                monthValprop = $('#des').text();
                break;
        }
        return monthValprop;
    }

    function billingReg(){

        console.log("ttttttt");
        console.log(sessionEmail);

        let IMP = window.IMP;
        IMP.init("imp75713203");

        let registrationcomplete = $('#registrationcomplete').text();

        //IMP.init("imp76010426");

        IMP.request_pay({
            pg : 'kcp_billing', //KCP일반결제는 kcp이며, KCP빌링결제는 kcp_billing 으로 구분됩니다.
            pay_method : 'card', // 'card'만 지원됩니다.
            merchant_uid : new Date().getTime(),
            name : 'Cloud Register',
            amount : 0, // 결제창에 표시될 금액. 실제 승인이 이뤄지지는 않습니다. (PC에서는 가격이 표시되지 않음)
            customer_uid : sessionEmail, //customer_uid 파라메터가 있어야 빌링키 발급을 시도합니다.
            buyer_email :sessionEmail
        }, function(rsp) {
            if ( rsp.success ) {

                var msg = registrationcomplete;
                document.getElementById("paymentChk").innerText ="true";
                alert(msg);

                $.ajax({
                    url: "/billingKey.do",
                    type: "POST",
                    data: {
                        pg:"test",
                        email: sessionEmail
                    },
                    success: function (data) {
                    }
                });
                /*
                                $.ajax({
                                    url: "/monthlyBilling.do",
                                    type: "POST",
                                    success: function (data) {
                                        alert("정기결제 완료");
                                    }, error: function (request, status, error) {
                                        console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
                                    }
                                });*/
            } else {
                //alert('빌링키 발급 실패');
            }
        });

        $.ajax({
            url: "/billingKey.do",
            type: "POST",
            data: {
                pg:"test",
                email: sessionEmail
            },
            success: function (data) {

            }
        });

    }

    function grpChange() {

        $.ajax({
            url: "/grpChange.do",
            type: "GET",
            data: {
                rscGrp: $("#grpSelcet option:selected").val()
            },
            success: function (data) {
                //location.reload();
                selectData();
            }, error: function (request, status, error) {

                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function rscCheck() {
        let availableids = $('#availableids').text();
        let thisidisalreadyinuse = $('#thisidisalreadyinuse').text();

        $.ajax({
            url: "/rscCheck.do",
            type: "GET",
            data: {
                rscGrp: document.getElementById("rscname").value
            },
            success: function (data) {
                if(data == 0)  {
                    document.getElementById("resultSpan").innerText = availableids;
                    $('#deployBtn').attr('disabled', false);

                }
                else document.getElementById("resultSpan").innerText = thisidisalreadyinuse;
                document.getElementById("resultSpan").hidden =false;
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function grpChange2() {

        $.ajax({
            url: "/grpChange.do",
            type: "GET",
            data: {
                rscGrp: $("#grpSelcet2 option:selected").val()
            },
            success: function (data) {
                //location.reload();
                selectData2();
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function goAgreement() {
        let youmustagreetodistribute = $('#youmustagreetodistribute').text();
        /*
                if(document.getElementById("paymentChk").innerText !="true") {
                    alert("결제정보를 입력하셔야 진행이 가능합니다.")
                    return;
                }*/
        if ($('input:checkbox[id="agreement"]').is(":checked") == true) $('#checkDeploy').modal("show");
        else alert(youmustagreetodistribute);
        //document.getElementById("rscgrp").innerText;
    }

    function clearChart() {

        chartData = [, , , , , , , , , ,
            , , , , , , , , , ,
            , , , , , , , , , ,];

        chartLabels = [];

        chartData2 = [, , , , , , , , , ,
            , , , , , , , , , ,
            , , , , , , , , , ,];

        chartLabels2 = [];
        pieChartData = [];
        pieChartLabels = [];
        barData = [];
    }


    function setLogTotal() {

        var rows = document.getElementById("logListTable").getElementsByTagName("tr");

        for (var r = 1; r < rows.length; r++) {
            var cells = rows[r].getElementsByTagName("td");
            var log_cell = cells[1].innerText;

            logSumVal += log_cell * 1;
        }
        document.getElementById("logTotal").innerText = logSumVal;
    }

    function getCostTotal() {

        logSumVal = 0;
        var rows = document.getElementById("logListTable").getElementsByTagName("tr");

        //console.log(rows.length);
        for (var r = 1; r < rows.length; r++) {
            var cells = rows[r].getElementsByTagName("td");
            var log_cell = cells[1].innerText;

            logSumVal += log_cell * 1;
        }

        var params = {
            usageparam: logSumVal
        };

        $.getJSON("/getCostTotal.do", params, function (data) {
            let krwon = $('#krwon').text();
            let about = $('#about').text();
            let storedabout = $('#storedabout').text();
            let months = $('#months').text();

            document.getElementById("costTotalBox").hidden = false;

            document.getElementById("costTotal").innerText = about + " " + comma(data.costtotal) + " " + krwon;
            document.getElementById("cost1Total").innerText = about + " " + comma(data.oneyearCostTotal) + " " + krwon;
            document.getElementById("cost3Total").innerText = about + " " + comma(data.threeyearCostTotal) + " " + krwon;

            document.getElementById("costTotal2").innerText = about + " " + comma(data.costtotal) + " " + krwon;
            document.getElementById("cost1Total2").innerText = about + " " + comma(data.oneyearCostTotal) + " " + krwon;
            document.getElementById("cost3Total2").innerText = about + " " + comma(data.threeyearCostTotal) + " " + krwon;

            document.getElementById("cpuVal").innerText = "CPU: " + data.cpu + " core";
            document.getElementById("ramVal").innerText = "RAM: " + data.ram + " GB";
            document.getElementById("diskVal").innerText = "DISK: " + data.disk + " TB";

            let period = Math.floor(data.disk * 1000 / (document.getElementById("logTotal").innerText * 90));

            document.getElementById("diskPeriVal").innerText = storedabout + period + months;
            document.getElementById("cpuVal2").innerText = "CPU: " + data.cpu + " core";
            document.getElementById("ramVal2").innerText = "RAM: " + data.ram + " GB";
            document.getElementById("diskVal2").innerText = "DISK: " + data.disk + " TB";
            document.getElementById("diskPeriVal2").innerText = storedabout + period + months;
        });
    }

    function addFrm() {
        let element = document.getElementById('addDiv');
        let totaldailylogvol = $('#totaldailylogvol').text();
        let equipmentselection = $('#equipmentselection').text();
        let etc = $('#etc').text();

        $("#addDiv").append('                                <div class="row mb-3 ml-4"  id="equip' + ++tempVal + '">\n' +
            '        <select class="form-control" style="width: 35%;"  name="fire" id="logSrc' + tempVal + '">\n' +
            '           <option value="">' + equipmentselection + '</option>\n' +
            '            <option value="FW">FW</option>\n' +
            '            <option value="IPS">IPS</option>\n' +
            '            <option value="IDS">IDS</option>\n' +
            '            <option value="WAF">WAF</option>\n' +
            '            <option value="ETC">' + etc + '</option>\n' +
            '        </select>\n' +
            '       <div class="input-group-append ml-1"  style="width: 60%;" >\n' +
            '           <input class="form-control ml-1" type="number"  oninput="this.value = this.value.replace(/[^0-9.]/g, \'\').replace(/(\\..*)\\./g, \'$1\');" style="text-align: right;"  placeholder="' + totaldailylogvol + '" id="data' + tempVal + '">\n' +
            '           <span class="ml-1" style="font-size: 25px; font-weight: bold;line-height: 39px;">GB</span>\n' +
            '       </div>\n' +
            '   </div>');
    }

    function delFrm() {
        let element = document.getElementById('equip' + tempVal);

        element.remove();
        tempVal--;
        //  element.innerHTML = '';
    }

    function readLog() {
        let step4done = $('#step4done').text();

        $.ajax({
            url: "/readLog.do",
            type: "GET",
            success: function (data) {
                // console.log(data);
                if (data == 'end') {
                    document.getElementById("loading").hidden = true;
                    document.getElementById("complete").hidden = false;
                    document.getElementById("step3").setAttribute("class", "step-item");
                    document.getElementById("step4").setAttribute("class", "step-item active");
                    document.getElementById("logTitle").innerText = step4done;
                }
            }, error: function (request, status, error) {
                resultChk--;
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function goBack() {

        $.ajax({
            url: "/goBack.do",
            type: "POST",
            success: function (data) {
                location.reload();
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function billingRegister() {
        let registrationcomplete = $('#registrationcomplete').text();
        let regularpaymenttest = $('#regularpaymenttest').text();

        $.ajax({
            url: "/billingRegister.do",
            type: "POST",
            data: {
                card: document.getElementById("card").value,
                expiry: document.getElementById("expiry").value,
                birth: document.getElementById("birth").value
            },
            success: function (data) {
                alert(registrationcomplete)
                document.getElementById("paymentChk").innerText ="true";
                $.ajax({
                    url: "/monthlyBilling.do",
                    type: "POST",
                    success: function (data) {
                        alert(regularpaymenttest);
                    }, error: function (request, status, error) {
                        console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
                    }
                });
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function goChoice() {

        $.ajax({
            url: "/goChoice.do",
            type: "POST",
            success: function (data) {
                location.reload();
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function completeLogCheck() {
        let registerequipmentinfonlog = $('#registerequipmentinfonlog').text();

        if (document.getElementById('logTotal').innerText == "") {
            window.alert(registerequipmentinfonlog);
        } else {
            completeLog();
        }
    }

    function completeLog() {

        $.ajax({
            url: "/completeLog.do",
            type: "POST",
            data: {
                totalParam: document.getElementById("logTotal").innerText,
                costParam: $('input[name="costTotal"]:checked').val()
            },
            success: function (data) {
                //alert("완료되었습니다.");
                location.reload();
            }, error: function (request, status, error) {
                //resultChk--;
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function deleteLog(logid) {

        $.ajax({
            url: "/deleteLog.do",
            type: "POST",
            data: {
                logid: logid
            },
            success: function (data) {
                location.reload();
            }
        })
    }

    function selectData() {
        clearChart();
        getChatdata($("#grpSelcet option:selected").val());
        getMeterSum($("#grpSelcet option:selected").val());
        getMeterDetailList($("#grpSelcet option:selected").val());
        getUsageList($("#grpSelcet option:selected").val());
        getResourceUsage($("#grpSelcet option:selected").val());
    }

    function selectData2() {
        clearChart();
        getChatdata($("#grpSelcet2 option:selected").val());
        getMeterSum($("#grpSelcet2 option:selected").val());
        getMeterDetailList($("#grpSelcet2 option:selected").val());
        getUsageList($("#grpSelcet2 option:selected").val());
        getResourceUsage($("#grpSelcet2 option:selected").val());
    }

    function createvm() {
        //$('#deployBtn').hide();
        $('#deployBtn').attr('disabled', false);
        $.ajax({
            url: "/createvm.do",
            type: "POST",
            data: {
                totalParam: document.getElementById("logTotal").innerText
            },
            success: function (data) {
                location.reload();
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function registerLog() {
        // let equip = $(+" option:selected").val();
        let resultChk = 1;
        let varidation = 1;

        let selectequipment = $('#selectequipment').text();
        let enterlogusage = $('#enterlogusage').text();

        for (let i = 0; i < tempVal + 1; i++) {
            var s = document.getElementById("logSrc" + i);
            var equip = s.options[s.selectedIndex].value;
            if (equip == '') {
                alert(selectequipment);
                varidation--;
                break;
            }
        }

        for (let i = 0; i < tempVal + 1; i++) {
            let usage = document.getElementById('data' + i).value;
            if (usage == '') {
                alert(enterlogusage);
                varidation--;
                break;
            }
        }

        if (varidation == 1) {
            for (let i = 0; i < tempVal + 1; i++) {
                var s = document.getElementById("logSrc" + i);
                var equip = s.options[s.selectedIndex].value;
                let usage = document.getElementById('data' + i).value * 1;

                $.ajax({
                    url: "/registerLog.do",
                    type: "POST",
                    data: {
                        equipparam: equip,
                        usageparam: usage
                    },
                    success: function (data) {

                    }, error: function (request, status, error) {
                        resultChk--;
                        console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
                    }
                });
            }
        }

        if (resultChk && (varidation == 1)) {
            //
            location.reload();
            //$('#logListTable').dataTable().reload();
            //getLogList();
        }
    }

    var logtable;

    function getPeriod() {
        let year1 = $('#year1').text();
        let year3 = $('#year3').text();
        let discount40 = $('#discount40').text();
        let discount50 = $('#discount50').text();
        let measuredratesystem = $('#measuredratesystem').text();

        $.ajax({
            url: "/getPeriod.do",
            type: "GET",
            success: function (data) {

                if (data == 'Re3') {
                    document.getElementById("period").innerText = year3 + " " + discount50 + "\n";
                    document.getElementById("costTotalBox2").hidden = true;
                    document.getElementById("costTotal1Box2").hidden = true;
                    document.getElementById("costTotal3Box2").hidden = false;
                } else if (data == 'Re1') {
                    document.getElementById("period").innerText = year1 + " " + discount40 + "\n";
                    document.getElementById("costTotalBox2").hidden = true;
                    document.getElementById("costTotal1Box2").hidden = false;
                    document.getElementById("costTotal3Box2").hidden = true;
                } else {
                    document.getElementById("period").innerText = measuredratesystem;
                    document.getElementById("costTotalBox2").hidden = false;
                    document.getElementById("costTotal1Box2").hidden = true;
                    document.getElementById("costTotal3Box2").hidden = true;
                }
            }
        });
    }

    function getLogList() {

        //$('#logListTable').dataTable().ajax.reload();
        $.ajax({
            url: "/getLogList.do",
            type: "GET",
            success: function (data) {
                logtable = $('#logListTable').dataTable({
                    aaData: data,
                    destroy: true,
                    bPaginate: false,
                    bLengthChange: false,
                    bInfo: false,
                    bAutoWidth: false,
                    processing: false,
                    ordering: true,
                    serverSide: false,
                    searching: false,
                    columns: [
                        {data: "logid"},
                        {data: "equip"},
                        {data: "usages"},
                        {
                            data: "logid",
                            "render": function (data, type, row) {
                                if (type == 'display') {
                                    data = '<button class="btn btn-danger btn-sm"><i class="fa fa-trash"></i></button>';
                                }
                                return data;
                            }
                        }
                    ],
                    columnDefs: [{
                        targets: [0],
                        visible: false
                    }]
                });

                var table = $('#logListTable').DataTable();

                $('#logListTable tbody').on('click', 'tr .btn', function () {
                    var tr = $(this).closest('tr');
                    var dt = table.row(tr).data();

                    deleteLog(dt.logid);
                    //document.getElementById("emailChk").innerHTML=dt.email;

                    //deleteUser();
                });

                setLogTotal();
                //if(sessionStep>0) getCostTotal();
                getCostTotal();
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function getUsageList(rscParam) {
        let krwon = $('#krwon').text();

        $.ajax({
            url: "/getUsageList.do",
            type: "GET",
            data: {
                paramDate: parameter,
                rscparam: rscParam
            },
            success: function (data) {
                tablelength = data.length;
                var table = $('#usageTable').dataTable({
                    aaData: data,
                    destroy: true,
                    bPaginate: false,
                    bLengthChange: true,
                    bInfo: false,
                    bAutoWidth: false,
                    processing: true,
                    ordering: true,
                    serverSide: false,
                    searching: false,
                    columns: [
                        {data: "idate"},
                        {data: "usage_data"}
                    ]
                });

                var rows = document.getElementById("usageTable").getElementsByTagName("tr");

                sumUsage = 0;
                sumMoney = 0;
                for (var r = 1; r < tablelength + 1; r++) {
                    var cells = rows[r].getElementsByTagName("td");
                    var usage_cell = cells[1].innerText;

                    sumUsage += usage_cell * 1;
                    sumMoney += usage_cell * 1 * 3.497;
                }

                document.getElementById("usage").innerText = sumUsage / 1000 + " GB";
                if (sumUsage == 0) document.getElementById("everage").innerText = "0 MB";
                else document.getElementById("everage").innerText = Math.round(sumUsage / tablelength) + " MB";

                document.getElementById("money").innerText = " " + comma(Math.round(sumMoney)) + " " + krwon;
                sumMoney = Math.round(sumMoney);
            }, error: function (request, status, error) {
                //getUsageList();
                location.reload();
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function getMeterSum(paramRsc) {

        var params = {
            paraYear: parameterYear,
            paraMonth: parameterMonth,
            rscparam: paramRsc
        };

        $.getJSON("/getMeterSum.do", params, function (data) {

            $.each(data, function (inx, obj) {
                pieChartLabels.push(obj.meterCategory);
                pieChartData.push(obj.costInBillingCurrency * 1);
            });
            createPieChart();
        });
    }

    var meterDetailTable;

    function getMeterDetailList(rscParam) {

        $.ajax({
            url: "/getMeterDetailList.do",
            type: "GET",
            data: {
                paraYear: parameterYear,
                paraMonth: parameterMonth,
                rscparam: rscParam
            },
            success: function (data) {
                meterDetailTable = $('#meterDetailTable').dataTable({
                    aaData: data,
                    destroy: true,
                    bPaginate: false,
                    bLengthChange: true,
                    bInfo: false,
                    bAutoWidth: false,
                    processing: true,
                    ordering: true,
                    serverSide: false,
                    searching: false,
                    columns: [
                        {data: "meterSubCategory"},
                        {data: "quantity"}
                    ]
                });
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

    function getChatdata(rscparam) {

        var params = {
            paramDate: parameter,
            rscparam: rscparam
        };

        var lastparams = {
            paramDate: lastparameter,
            rscparam: rscparam
        };
        sumbefore = 0;

        $.getJSON("/getChartList.do", params, function (data) {
            $.each(data, function (inx, obj) {
                chartLabels.push(obj.idate);
                chartData[(obj.idate * 1) - 1] = obj.usage_data;
            });

            $.getJSON("/getChartListbefore.do", lastparams, function (data2) {
                $.each(data2, function (inx, obj) {
                    chartLabels2.push(obj.idate);
                    chartData2[(obj.idate * 1) - 1] = obj.usage_data;
                    sumbefore += obj.usage_data * 1;
                });

                lineChartData = {
                    labels:
                        ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10',
                            '11', '12', '13', '14', '15', '16', '17', '18', '19', '20',
                            '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'
                        ],
                    //chartLabels2,

                    datasets: [
                        {
                            lineTension: 0.3,
                            backgroundColor: "rgba(78, 115, 223, 0.05)",
                            borderColor: "rgba(78, 115, 223, 1)",
                            pointRadius: 3,
                            pointBackgroundColor: "rgba(78, 115, 223, 1)",
                            pointBorderColor: "rgba(78, 115, 223, 1)",
                            pointHoverRadius: 3,
                            pointHoverBackgroundColor: "rgba(78, 115, 223, 1)",
                            pointHoverBorderColor: "rgba(78, 115, 223, 1)",
                            pointHitRadius: 10,
                            pointBorderWidth: 2,

                            data: chartData
                        },
                        {
                            lineTension: 0.3,
                            backgroundColor: "rgba(255, 115, 223, 0.05)",
                            borderColor: "rgba(255, 115, 223, 1)",
                            pointRadius: 3,
                            pointBackgroundColor: "rgba(255, 115, 223, 1)",
                            pointBorderColor: "rgba(255, 115, 223, 1)",
                            pointHoverRadius: 3,
                            pointHoverBackgroundColor: "rgba(255, 115, 223, 1)",
                            pointHoverBorderColor: "rgba(255, 115, 223, 1)",
                            pointHitRadius: 10,
                            pointBorderWidth: 2,

                            data: chartData2
                        }
                    ]
                }

                createChart();

                //document.getElementById("beforedata").innerText = sumbefore / 1000 + "GB";
                barData.push(Math.round(sumbefore * 3.497));
                barData.push(Math.round(sumMoney));

                createBarChart();

                document.getElementById("div_load_image").hidden = true;
            }).fail(function () {
            });
        }).fail(function () {
        });
    }

    var barChart;

    function createBarChart() {
        var ctx = document.getElementById("myBarChart");
        let krwon = $('#krwon').text();
        let amountused = $('#amountused').text();

        var data = {
            type: 'bar',
            data: {
                labels:
                    [lastLabel, thisLabel],
                datasets: [{
                    label: amountused,
                    backgroundColor: "#4e73df",
                    hoverBackgroundColor: "#2e59d9",
                    borderColor: "#4e73df",
                    data: barData,
                }]
            },
            options: {
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        left: 10,
                        right: 25,
                        top: 25,
                        bottom: 0
                    }
                },
                scales: {
                    xAxes: [{
                        time: {
                            unit: 'month'
                        },
                        gridLines: {
                            display: false,
                            drawBorder: false
                        },
                        ticks: {
                            maxTicksLimit: 6
                        },
                        maxBarThickness: 25,
                    }],
                    yAxes: [{
                        ticks: {
                            min: 0,
                            maxTicksLimit: 5,
                            padding: 5,
                            // Include a dollar sign in the ticks
                            callback: function (value, index, values) {
                                return number_format(value) + " " + krwon;
                            }
                        },
                        gridLines: {
                            color: "rgb(234, 236, 244)",
                            zeroLineColor: "rgb(234, 236, 244)",
                            drawBorder: false,
                            borderDash: [2],
                            zeroLineBorderDash: [2]
                        }
                    }],
                },
                legend: {
                    display: false
                },
                tooltips: {
                    titleMarginBottom: 10,
                    titleFontColor: '#6e707e',
                    titleFontSize: 14,
                    backgroundColor: "rgb(255,255,255)",
                    bodyFontColor: "#858796",
                    borderColor: '#dddfeb',
                    borderWidth: 1,
                    xPadding: 15,
                    yPadding: 15,
                    displayColors: false,
                    caretPadding: 10,
                    callbacks: {
                        label: function (tooltipItem, chart) {
                            var datasetLabel = chart.datasets[tooltipItem.datasetIndex].label || '';
                            return datasetLabel + ':' + number_format(tooltipItem.yLabel) + " " + krwon;
                        }
                    }
                },
            }
        }

        if (barChart) {
            barChart.destroy();
        }
        barChart = new Chart(ctx, data);
    }

    var myPieChart;

    function createPieChart() {
        var ctx = document.getElementById("myPieChart");
        let krwon = $('#krwon').text();

        if (myPieChart) {
            myPieChart.destroy();
        }
        myPieChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: pieChartLabels,
                datasets: [{
                    data: pieChartData,
                    backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc', '#9467BD', '#FFA95D', '#D62728', '#69A4CD'],
                    hoverBackgroundColor: ['#858796', '#858796', '#858796', '#858796', '#858796', '#858796', '#858796'],
                    hoverBorderColor: "rgba(234, 236, 244, 1)",
                }],
            },
            options: {
                maintainAspectRatio: false,
                tooltips: {
                    backgroundColor: "rgb(255,255,255)",
                    bodyFontColor: "#858796",
                    borderColor: '#dddfeb',
                    borderWidth: 5,
                    xPadding: 10,
                    yPadding: 10,
                    displayColors: false,
                    caretPadding: 5,
                    callbacks: {
                        label: function (tooltipItem, data) {
                            var dataset = data.datasets[tooltipItem.datasetIndex];
                            var total = dataset.data.reduce(function (previousValue, currentValue, currentIndex, array) {
                                return previousValue + currentValue;
                            });
                            var currentValue = dataset.data[tooltipItem.index];
                            var percentage = Math.floor(((currentValue / total) * 100) + 0.5);
                            return percentage + "%," + currentValue + " " + krwon;
                        }
                    }
                },
                legend: {
                    display: true
                },
                cutoutPercentage: 40,
            },
        });
    }

    var myChart

    function createChart() {

        var ctx = document.getElementById("myDailyChart").getContext("2d");

        if (myChart) {
            myChart.destroy();
        }
        //var myChart = Chart.clear()
        myChart = Chart.Line(ctx, {
            data: lineChartData,
            options: {
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        left: 10,
                        right: 25,
                        top: 25,
                        bottom: 0
                    }
                },
                scales: {
                    xAxes: [{
                        time: {
                            unit: 'date'
                        },
                        gridLines: {
                            display: false,
                            drawBorder: false
                        },
                        ticks: {
                            maxTicksLimit: 7
                        }
                    }],
                    yAxes: [{
                        ticks: {
                            maxTicksLimit: 5,
                            padding: 10,
                            // Include a dollar sign in the ticks
                            callback: function (value, index, values) {
                                return number_format(value) + ' MB';
                            }
                        },
                        gridLines: {
                            color: "rgb(234, 236, 244)",
                            zeroLineColor: "rgb(234, 236, 244)",
                            drawBorder: false,
                            borderDash: [2],
                            zeroLineBorderDash: [2]
                        }
                    }],
                },
                legend: {
                    display: false
                },
                tooltips: {
                    backgroundColor: "rgb(255,255,255)",
                    bodyFontColor: "#858796",
                    titleMarginBottom: 10,
                    titleFontColor: '#6e707e',
                    titleFontSize: 14,
                    borderColor: '#dddfeb',
                    borderWidth: 1,
                    xPadding: 15,
                    yPadding: 15,
                    displayColors: false,
                    intersect: false,
                    mode: 'index',
                    caretPadding: 10,
                    callbacks: {
                        label: function (tooltipItem, chart) {
                            var datasetLabel = chart.datasets[tooltipItem.datasetIndex].label || '';
                            return datasetLabel + number_format(tooltipItem.yLabel) + ' MB';
                        }
                    }
                }
            }
        })
    }

    function comma(num) {
        var len, point, str;

        num = num + "";
        point = num.length % 3;
        len = num.length;

        str = num.substring(0, point);
        while (point < len) {
            if (str != "") str += ",";
            str += num.substring(point, point + 3);
            point += 3;
        }
        return str;
    }

    function number_format(number, decimals, dec_point, thousands_sep) {
        // *     example: number_format(1234.56, 2, ',', ' ');
        // *     return: '1 234,56'
        number = (number + '').replace(',', '').replace(' ', '');
        var n = !isFinite(+number) ? 0 : +number,
            prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
            sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
            dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
            s = '',
            toFixedFix = function (n, prec) {
                var k = Math.pow(10, prec);
                return '' + Math.round(n * k) / k;
            };
        // Fix for IE parseFloat(0.55).toFixed(0) = 0;
        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');
        if (s[0].length > 3) {
            s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
        }
        if ((s[1] || '').length < prec) {
            s[1] = s[1] || '';
            s[1] += new Array(prec - s[1].length + 1).join('0');
        }
        return s.join(dec);
    }

    function getResourceUsage(rscparam) {

        $.ajax({
            url: "/getResourceUsage.do",
            type: "GET",
            data: {
                rscparam: rscparam
            },
            success: function (data) {
                var diskPer = "0%";
                if (data.usageDiskPer) {
                    diskPer = data.usageDiskPer;
                }
                $("#diskValue").text(diskPer);
                $("#diskProgress").css({"width": diskPer});
            }, error: function (request, status, error) {
                console.log("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
            }
        });
    }

</script>

<body id="page-top">

<div id="wrapper">
    <!--<div th:insert="sidemenu.html :: side_menu"></div>-->
    <div id="div_load_image"
         style="position: absolute; top:50%; left: 50%; width:0px ; height: 0px; z-index: 9999; background: #f0f0f0; margin:auto;  "
         hidden="true">
        <img src="/image/loading.gif" style="width:100px; height: 100px; ">
    </div>

    <!--    <th:block layout:fragment="side_menu"></th:block>-->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/main">
            <div class="sidebar-brand-text mx-3">Monitoring System</div>
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider my-0">

        <!-- Nav Item - Dashboard -->
        <li class="nav-item active" th:if="${session['rscgrp']} !=''">
            <a class="nav-link" href="/main">
                <i class="fas fa-fw fa-chart-area"></i>
                <span>Dashboard</span></a>
        </li>

        <li class="nav-item active" th:if="${session['rscgrp']} !=''">
            <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities2"
               aria-expanded="true" aria-controls="collapseUtilities2">
                <i class="fas fa-fw fa-money-check"></i>
                <span th:text="#{label.costmanagement}"></span>
            </a>
            <div id="collapseUtilities2" class="collapse" aria-labelledby="headingUtilities"
                 data-parent="#accordionSidebar">
                <div class="bg-white py-2 collapse-inner rounded">
                    <a class="collapse-item" href="/cost" hidden ="true" th:text="#{label.loginquiry}"></a>
                    <a class="collapse-item" href="/billing" th:text="#{label.billinginquiry}"></a>
                </div>
            </div>
        </li>

        <li class="nav-item active" th:if="${session['rscgrp']} !=''">
            <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities"
               aria-expanded="true" aria-controls="collapseUtilities">
                <i class="fas fa-fw fa-wrench"></i>
                <span th:text="#{label.resourcemanagement}"></span>
            </a>
            <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities"
                 data-parent="#accordionSidebar">
                <div class="bg-white py-2 collapse-inner rounded">
                    <a class="collapse-item" href="/resource" th:text="#{label.resourcemanagement}"></a>
                    <a class="collapse-item" href="/productlist" th:text="#{label.resourceinfolist}"></a>
                </div>
            </div>
        </li>

        <!--      <li class="nav-item active" th:if="${session['rscgrp']} !=''">
                  <a class="nav-link" href="/resource">
                      <i class="fas fa-fw fa-chart-pie"></i>
                      <span th:text="#{label.resourcemanagement}"></span></a>
              </li>

              <li class="nav-item active" th:if="${session['rscgrp']} !=''">
                  <a class="nav-link" href="/productlist">
                      <i class="fas fa-fw fa-list"></i>
                      <span >보유리소스정보</span></a>
              </li>-->

        <!-- Nav Item - Utilities Collapse Menu -->
        <li class="nav-item active">
            <a class="nav-link" href="/member">
                <i class="fas fa-fw fa-user"></i>
                <span th:text="#{label.usermanagement}"></span></a>
        </li>

        <li class="nav-item active" th:if="${session['auth']} !='ROLE_USER'">
            <a class="nav-link" href="/customer">
                <i class="fas fa-fw fa-search"></i>
                <span th:text="#{label.customerinfo}"></span></a>
        </li>

        <li class="nav-item active">
            <a class="nav-link" href="/list">
                <i class="fas fa-fw fa-question"></i>
                <span>Q&A</span></a>
        </li>

        <li class="nav-item active"  hidden="true" th:if="${session['rscgrp']} !=''">
            <a class="nav-link" href="/product">
                <i class="fas fa-fw fa-plus"></i>
                <span th:text="#{label.addproduct}"></span></a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider">

        <!-- Sidebar Toggler (Sidebar) -->
        <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle"></button>
        </div>
    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                <!-- Sidebar Toggle (Topbar) -->
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars"></i>
                </button>

                <!-- Topbar Navbar -->
                <ul class="navbar-nav ml-auto">
                    <!-- Nav Item - User Information -->
                    <li class="nav-item" style="margin-top: 3px;" >
                        <a href="/main?lang=ko-kr" class="text-gray-400" data-th-text="#{label.lang.ko}"></a>
                    </li>
                    <div class="topbar-divider d-none d-sm-block" style="height: calc(4.375rem - 3rem);"></div>
                    <li class="nav-item" style="margin-top: 3px;">
                        <a href="/main?lang=en-us" class="text-gray-400" data-th-text="#{label.lang.us}"></a>
                    </li>

                    <li class="nav-item dropdown no-arrow">
                        <span id="email" th:text="${session['email']}" hidden="true"> </span>
                        <span id="rscgrp" hidden="true" th:text="${session['rscgrp']}"> </span>
                        <span id="auth" hidden="true" th:text="${session['auth']}"> </span>
                        <span id="step" hidden="true" th:text="${session['step']}"> </span>
                        <span id="lang" hidden="true" th:text="${session['lang']}"> </span>
                        <span id="paymentChk" hidden="true" >false</span>

                        <span id="amountused" hidden="true" th:text="#{label.amountused}"> </span>
                        <span id="averagedailythroughput" hidden="true" th:text="#{label.averagedailythroughput}"> </span>
                        <span id="amountlogusage" hidden="true" th:text="#{label.amountlogusage}"> </span>
                        <span id="logthroughput" hidden="true" th:text="#{label.logthroughput}"> </span>
                        <span id="jan" hidden="true" th:text="#{label.jan}"> </span>
                        <span id="feb" hidden="true" th:text="#{label.feb}"> </span>
                        <span id="mar" hidden="true" th:text="#{label.mar}"> </span>
                        <span id="apr" hidden="true" th:text="#{label.apr}"> </span>
                        <span id="may" hidden="true" th:text="#{label.may}"> </span>
                        <span id="jun" hidden="true" th:text="#{label.jun}"> </span>
                        <span id="jul" hidden="true" th:text="#{label.jul}"> </span>
                        <span id="aug" hidden="true" th:text="#{label.aug}"> </span>
                        <span id="sep" hidden="true" th:text="#{label.sep}"> </span>
                        <span id="oct" hidden="true" th:text="#{label.oct}"> </span>
                        <span id="nov" hidden="true" th:text="#{label.nov}"> </span>
                        <span id="des" hidden="true" th:text="#{label.des}"> </span>

                        <span id="step1register" hidden="true" th:text="#{label.step1register}"> </span>
                        <span id="step2check" hidden="true" th:text="#{label.step2check}"> </span>
                        <span id="step3deploying" hidden="true" th:text="#{label.step3deploying}"> </span>
                        <span id="availableids" hidden="true" th:text="#{label.availableids}"> </span>
                        <span id="thisidisalreadyinuse" hidden="true" th:text="#{label.thisidisalreadyinuse}"> </span>
                        <span id="youmustagreetodistribute" hidden="true" th:text="#{label.youmustagreetodistribute}"> </span>
                        <span id="about" hidden="true" th:text="#{label.about}"> </span>
                        <span id="storedabout" hidden="true" th:text="#{label.storedabout}"> </span>
                        <span id="months" hidden="true" th:text="#{label.months}"> </span>
                        <span id="equipmentselection" hidden="true" th:text="#{label.equipmentselection}"> </span>
                        <span id="etc" hidden="true" th:text="#{label.etc}"> </span>

                        <span id="totaldailylogvol" hidden="true" th:text="#{label.totaldailylogvol}"> </span>
                        <span id="step4done" hidden="true" th:text="#{label.step4done}"> </span>
                        <span id="registrationcomplete" hidden="true" th:text="#{label.registrationcomplete}"> </span>
                        <span id="regularpaymenttest" hidden="true" th:text="#{label.regularpaymenttest}"> </span>
                        <span id="registerequipmentinfonlog" hidden="true" th:text="#{label.registerequipmentinfonlog}"> </span>
                        <span id="selectequipment" hidden="true" th:text="#{label.selectequipment}"> </span>
                        <span id="enterlogusage" hidden="true" th:text="#{label.enterlogusage}"> </span>
                        <span id="year1" hidden="true" th:text="#{label.year1}"> </span>
                        <span id="year3" hidden="true" th:text="#{label.year3}"> </span>
                        <span id="discount40" hidden="true" th:text="#{label.discount40}"> </span>
                        <span id="discount50" hidden="true" th:text="#{label.discount50}"> </span>
                        <span id="measuredratesystem" hidden="true" th:text="#{label.measuredratesystem}"> </span>
                        <span id="krwon" hidden="true" th:text="#{label.krwon}"> </span>

                        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal"
                           style="margin-right: -20px">
                            <i class="fas fa-sign-out-alt fa-sm fa-fw text-gray-400"></i><span class="text-gray-400">Logout</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid" id="dashboard" hidden="false">

                <!-- Page Heading -->
                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                    <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
                </div>

                <div class="row" th:if="${session['auth']} !='ROLE_USER'"
                     style="margin-left: 2px;margin-bottom: 10px;">
                    <span class="m-1 font-size-115 mt-2 mr-2" th:text="#{label.customersearch}"></span>
                    <div class="input-group" style="width: 19%;">
                        <select class="select float-right form-control" name="itemId"
                                id="grpSelcet" onchange="grpChange()"
                                style="border-top-right-radius: .35rem;border-bottom-right-radius: .35rem;">
                            <option value="" th:text="#{label.customerchoice}"></option>
                            <option th:each="itemData : ${grpList}" th:value="${itemData.rscGrp}"
                                    th:text="${itemData.email}"></option>
                        </select>

                        <div class="input-group-append" hidden="true">
                            <button class="btn btn-primary" type="button" onclick='selectData()'>
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="row" th:if="${session['auth']} =='ROLE_USER'"
                     style="margin-left: 2px;margin-bottom: 10px;">
                    <span class="m-1 font-size-115 mt-2 mr-2" th:text="#{label.productsearch}"></span>

                    <div class="input-group" style="width: 19%;">
                        <select class="select float-right form-control" name="itemId"
                                id="grpSelcet2" onchange="grpChange2()"
                                style="border-top-right-radius: .35rem;border-bottom-right-radius: .35rem;">
                            <option value="" th:text="#{label.productchoice}"></option>
                            <option th:each="itemData : ${grpCustList}" th:value="${itemData.rscGrp}"
                                    th:text="${itemData.product}"></option>
                        </select>

                        <div class="input-group-append" hidden="true">
                            <button class="btn btn-primary" type="button" onclick='selectData()'>
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Content Row -->
                <div class="row">

                    <!-- Earnings (Monthly) Card Example -->
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1"
                                             style="font-size: 20px;" id="thisMon1" th:text="#{label.thisMonFirst}">
                                        </div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="usage"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Earnings (Monthly) Card Example -->
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-info shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1"
                                             style="font-size: 20px;" id="thisMon2">
                                        </div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="everage"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Requests Card Example -->
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-warning shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1"
                                             style="font-size: 20px;" id="thisMon3">
                                        </div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800" id="money"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- disk usage Card Example -->
                    <div class="col-xl-3 col-md-6 mb-4">
                        <div class="card border-left-success shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1"
                                             style="font-size: 20px;" th:text="#{label.disk}"></div>
                                        <div class="row no-gutters align-items-center">
                                            <div class="col-auto">
                                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800"
                                                     id="diskValue"></div>
                                            </div>
                                            <div class="col">
                                                <div class="progress progress-sm mr-2">
                                                    <div class="progress-bar bg-info" role="progressbar"
                                                         id="diskProgress"></div>
                                                    <!--
                                                    <div class="progress-bar bg-info" role="progressbar"
                                                         style="width: 0%" id="diskProgress"></div>
                                                         -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-auto">
                                        <a class="nav-link" href="/resource"><i
                                                class="fas fa-plus fa-2x text-gray-300"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Row -->

                <div class="row">
                    <!-- Area Chart -->
                    <div class="col-xl-8 col-lg-7">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary" th:text="#{label.dailygraph}"></h6>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="chart-area">
                                    <canvas id="myDailyChart" style="height: 500px !important;"></canvas>
                                </div>
                                <div class="mt-4 text-center small">
                                    <i class="fas fa-circle text-primary"></i>
                                    <span class="mr-2" id="thisMon4">
                                        </span>
                                    <i class="fas fa-circle text-success"
                                       style="color:rgba(255, 115, 223, 1) !important; "></i>
                                    <span class="mr-2" id="lastMon2">
                                        </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pie Chart -->
                    <div class="col-xl-4 col-lg-5">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">Azure Resource</h6>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="chart-area" style="height: 365px !important;">
                                    <canvas id="myPieChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Row -->
                <div class="row">
                    <div class="col-xl-3 col-lg-4">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary" th:text="#{label.barchart}"></h6>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="chart-area" style="height: 250px;">
                                    <canvas id="myBarChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Area Chart -->

                    <div class="col-xl-3 col-lg-4">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary" th:text="#{label.dailylog}"></h6>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body" style="height: 290px;">
                                <div class="card shadow h-100 py-2">
                                    <div class="table-responsive" style="overflow:auto; height: 100%">
                                        <table class="table table-bordered" id="usageTable" cellspacing="0">
                                            <thead style="text-align: center; position: sticky; top: 0px; background-color: white;">
                                            <tr>
                                                <th th:text="#{label.date}"></th>
                                                <th th:text="#{label.log}"></th>
                                            </tr>
                                            </thead>

                                            <tbody style="text-align: center">
                                            <!--<tr th:each="usageList : ${list}">
                                               <td th:text="${usageList.idate}"></td>
                                               <td th:text="${usageList.usage_data}"></td>
                                           </tr>-->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-6 col-lg-6">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary" th:text="#{label.azureresource}"></h6>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="card shadow h-100 py-2" style="height:250px !important;">
                                    <div class="table-responsive" style="overflow:auto; height: 100%">
                                        <table class="table table-bordered" id="meterDetailTable" cellspacing="0">
                                            <thead style="text-align: center; position: sticky; top: 0px;background-color: white; ">
                                            <tr>
                                                <th th:text="#{label.type}"></th>
                                                <th th:text="#{label.usage}"></th>
                                            </tr>
                                            </thead>
                                            <tbody style="text-align: center">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `
                </div>
            </div>
            <!-- /.container-fluid -->

            <div class="container-fluid" id="logsource" hidden="false">
                <div class="modal-body">
                    <div class="row mt-1 mb-1">
                        <div class="col-xl-12 col-lg-6">
                            <span style="color: black; font-size: 30px; font-weight: bold; "> WELCOME Page. </span>
                        </div>
                    </div>

                    <div class="row mt-1 mb-3">
                        <!--                            <div class="col-xl-12 col-lg-6" >
                                                        <span style="color: black; font-size: 25px; font-weight: normal; " >이글루시큐리티 모니터링 시스템입니다. </span>
                                                    </div>-->
                        <div class="col-xl-8 col-lg-12 col-md-12">
                            <span style="color: black; font-size: 25px; font-weight: bold; " id="logTitle" th:text="#{label.pleaseselectanitemtoregister}"></span>
                            <div class="step step-primary mb-1 mt-3" style="margin-left: -50px;" id="stepbar">
                                <div class="step-item" id="step1">
                                    <a class="step-item-link" th:text="#{label.step1equipmentregistration}"></a>
                                </div>
                                <div class="step-item " id="step2">
                                    <a class="step-item-link" th:text="#{label.step2tmdistribution}"></a>
                                </div>
                                <div class="step-item " id="step3">
                                    <a class="step-item-link " th:text="#{label.step3createtm}"></a>
                                </div>
                                <div class="step-item " id="step4">
                                    <a class="step-item-link " th:text="#{label.step4done}"></a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-1 mb-3">
                        <div class="col-xl-4 col-lg-5 " style="margin-left: -20px;" id="registerLog">
                            <div class="card shadow h-100 py-2">
                                <div class="card-header"><span class="text-dark ml-4"
                                                               style="color: black; font-size: 20px; font-weight: bold; " th:text="#{label.equipmentinfo}"> </span>
                                    <div class="btn btn-primary btn-sm float-right" type="button" onclick='delFrm()'><i
                                            class="fas fa-minus "></i>
                                    </div>
                                    <div class="btn btn-primary btn-sm float-right mr-1" type="button"
                                         onclick='addFrm()'><i
                                            class="fas fa-plus "></i>
                                    </div>
                                </div>

                                <div class="card-body">
                                    <div id="addDiv">
                                        <div class="row mb-3 ml-4" id="equip0">
                                            <select class="form-control" style="width: 35%;" name="fire" id="logSrc0">
                                                <option value="" th:text="#{label.equipmentselection}"></option>
                                                <option value="FW">FW</option>
                                                <option value="IPS">IPS</option>
                                                <option value="IDS">IDS</option>
                                                <option value="WAF">WAF</option>
                                                <option value="ETC" th:text="#{label.etc}"></option>
                                            </select>
                                            <div class="input-group-append ml-1" style="width: 60%;">
                                                <input class="form-control ml-1" type="number" id="data0"
                                                       oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                                       style="text-align: right;" placeholder="일일 전체로그량">
                                                <span class="ml-1"
                                                      style="font-size: 25px; font-weight: bold;line-height: 39px;">GB</span>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary ml-4" onclick='registerLog()' th:text="#{label.register}"></button>
                                    <!--                                   <button class="btn btn-primary mt-1" style="display: block; position: absolute; bottom: 20px;"
                                                                               onclick='goChoice()'><i
                                                                               class="fa fa-arrow-alt-circle-left mr-1"></i>Back
                                                                       </button>
                                   -->
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-4 col-lg-12 col-md-12" style="margin-left: -20px;" id="registerLog2">
                            <div class="card shadow h-100 py-2">
                                <div class="card-header"><span class="text-dark ml-4"
                                                               style="color: black; font-size: 20px; font-weight: bold; " th:text="#{label.registeredequipmentlist}"> </span>
                                </div>

                                <div class="card-body">
                                    <div class="card shadow py-2" style="height: 80%;">
                                        <div class="table-responsive h-100" style="overflow:auto;">
                                            <table class="table table-bordered" id="logListTable" cellspacing="0">
                                                <thead style="text-align: center; position: sticky; top: 0px; background: white;">
                                                <tr>
                                                    <th>id</th>
                                                    <th th:text="#{label.equipmenttype}"></th>
                                                    <th th:text="#{label.dailylogvolume}"></th>
                                                    <th></th>
                                                </tr>
                                                </thead>
                                                <tbody style="text-align: center">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary mt-1" onclick='completeLogCheck()'
                                            th:if="${session['step']} =='0'" th:text="#{label.registercomplete}">
                                    </button>
                                    <div class="text-gray-600 ml-1 mt-2 float-right "
                                         style="font-size: 15px; font-weight: bold; ">GB
                                    </div>
                                    <div class="text-gray-600 ml-1 mt-2 float-right"
                                         style="font-size: 15px; font-weight: bold; " id="logTotal"></div>
                                    <div class="text-gray-600 ml-1 mt-2 float-right "
                                         style="font-size: 15px; font-weight: bold; " th:text="#{label.totallogusage}">
                                    </div>
                                    <button class="btn btn-primary mt-1"
                                            th:if="${session['step']} =='1'" onclick='goBack()'><i
                                            class="fa fa-arrow-alt-circle-left mr-1"></i>Step 1

                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-4  col-lg-12 col-md-12 " style="margin-left: -20px;" id="registerLog3">
                            <div class="card shadow h-100 py-2">
                                <div class="card-header"><span class="text-dark ml-4"
                                                               style="font-size: 20px; font-weight: bold; " th:text="#{label.azureestimatedamount}"> </span>
                                </div>
                                <div class="row ml-2 mt-1">
                                    <span class="mr-1 ml-4 mt-2" style="font-weight: bold;" th:text="#{label.choosetermoption}"> </span>
                                </div>
                                <div class="row ml-2">
                                    <label class="radio-inline mr-5 ml-4 mt-2 ">
                                        <input type="radio" name="costTotal" id="inlineRadio11" value="noRe"
                                               checked="checked" th:text="#{label.measuredratesystem}">
                                    </label>
                                    <label class="radio-inline mr-4 mt-2">
                                        <input type="radio" name="costTotal" id="inlineRadio22" value="Re1" th:text="#{label.year1}">
                                    </label>
                                    <label class="radio-inline mr-1 mt-2">
                                        <input type="radio" name="costTotal" id="inlineRadio33" value="Re3" th:text="#{label.year3}">
                                    </label>
                                </div>
                                <div class="row ml-2" style="margin-top: -20px;">
                                    <label class="radio-inline mr-5 ml-5 mt-2 ">
                                    </label>
                                    <label class="radio-inline mr-3 mt-2 ml-5" th:text="#{label.discount40}">
                                    </label>
                                    <label class="radio-inline mr-1 mt-2 ml-3" th:text="#{label.discount50}">
                                    </label>
                                </div>
                                <div>
                                    <div class="card-body">
                                        <div class="card border-left-primary shadow py-2"
                                             style="height: 45%;  margin-top: -20px;">
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 20px; font-weight: bold; ">VM
                                                specification
                                            </div>
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 18px; font-weight: normal; "
                                                 id="cpuVal"></div>
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 18px; font-weight: normal; "
                                                 id="ramVal"></div>
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 18px; font-weight: normal; "
                                                 id="diskVal"></div>
                                            <div class="text-black-50 ml-4 "
                                                 style="font-size: 15px; font-weight: bold; "
                                                 id="diskPeriVal"></div>
                                        </div>

                                        <div class="card border-left-primary mt-1 shadow py-2"
                                             style="height: 45%;">
                                            <div id="costTotalBox" hidden="true">
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                                </div>
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; "
                                                     id="costTotal"></div>
                                            </div>
                                            <div id="costTotal1Box" hidden="true">
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                                </div>
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; "
                                                     id="cost1Total"></div>
                                            </div>
                                            <div id="costTotal3Box" hidden="true">
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                                </div>
                                                <div class="text-dark ml-4 "
                                                     style="font-size: 19px; font-weight: bold; "
                                                     id="cost3Total"></div>
                                            </div>
                                            <div class="text-dark ml-4 mr-4 "
                                                 style="font-size: 15px; font-weight: normal; " th:text="#{label.includamountnotice}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-4 col-lg-12 col-md-12" style="margin-left: -20px;" id="registerSummary">
                            <div class="card shadow h-100 py-2">
                                <div class="card-header">
                                    <span class="text-dark ml-4"
                                          style="color: black; font-size: 20px; font-weight: bold; " th:text="#{label.tmdeployinfo}">  </span>
                                </div>

                                <div class="card-body">
                                    <div class="card shadow py-2"
                                         style="height: 90%; background: #F8F9FC; border: 2px solid white;">
                                        <span class="text-dark ml-4"
                                              style=" font-size: 20px;  font-weight: bold;" th:text="#{label.termoption}">
                                        </span>
                                        <span class="text-dark ml-4 mr-4"
                                              style=" font-size: 18px; border-bottom: 1px solid #efefef; " id="period">
                                        </span>
                                        <div class="text-dark ml-4 mt-2"
                                             style="font-size: 20px; font-weight: bold; ">VM
                                            specification
                                        </div>
                                        <div class="text-dark ml-4 "
                                             style="font-size: 18px; font-weight: normal; "
                                             id="cpuVal2"></div>
                                        <div class="text-dark ml-4 "
                                             style="font-size: 18px; font-weight: normal; "
                                             id="ramVal2"></div>
                                        <div class="text-dark ml-4 "
                                             style="font-size: 18px; font-weight: normal; "
                                             id="diskVal2"></div>
                                        <div class="text-black-50 ml-4 mr-4"
                                             style="font-size: 15px; border-bottom: 1px solid #efefef; "
                                             id="diskPeriVal2"></div>
                                        <div id="costTotalBox2" hidden="true" class="mt-2">
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 20px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                            </div>
                                            <div class="text-dark ml-4  mr-4"
                                                 style="font-size: 18px; border-bottom: 1px solid #efefef; "
                                                 id="costTotal2"></div>
                                        </div>
                                        <div id="costTotal1Box2" hidden="true" class="mt-2">
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 20px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                            </div>
                                            <div class="text-dark ml-4 mr-4"
                                                 style="font-size: 18px; border-bottom: 1px solid #efefef;  "
                                                 id="cost1Total2"></div>
                                        </div>
                                        <div id="costTotal3Box2" hidden="true" class="mt-2">
                                            <div class="text-dark ml-4 "
                                                 style="font-size: 20px; font-weight: bold; " th:text="#{label.estimatemonamount}">
                                            </div>
                                            <div class="text-dark ml-4 mr-4"
                                                 style="font-size: 18px; border-bottom: 1px solid #efefef;"
                                                 id="cost3Total2"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <button class="btn btn-primary mt-1"
                                                onclick='goBack()'><i
                                                class="fa fa-arrow-alt-circle-left mr-1"></i>Step 1
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-4 col-lg-12 col-md-12" style="margin-left: -20px;" id="registerLog4">
                            <div class="card shadow h-100 py-2">
                                <div class="card-header"><span class="text-dark ml-4"
                                                               style="color: black; font-size: 20px; font-weight: bold; " th:text="#{label.tmdistributagree}"> </span>
                                </div>
                                <div class="card-body">
                                    <div class="card shadow py-2" style="height: 80%;">
                                        <div>
                                        <span class="text-black-50 ml-4"
                                              style=" font-size: 15px; " th:text="#{label.chargesincurred}">
                                        </span>
                                            <span style="position: relative; display: block; box-sizing: border-box;"
                                                  class="text-black-50 ml-4">
                                                   <input class="form-control" type="checkbox" id="agreement" value="Y"
                                                          style=" position: absolute; overflow: hidden; margin: -1px; width: 20px;height: 20px;  left: 1px; top: 3px">
                                                <label style="font-size: 14px; font-weight: 700; line-height: 21px; cursor: pointer; position: relative; margin-left: 26px;"
                                                       for="agreement" th:text="#{label.agreeabove}"></label>
                                            </span>
                                        </div>
                                    </div>
                                    <div>
                                        <button class="btn btn-primary mt-1" onclick='billingReg()' th:text="#{label.paymentinfo}"></button>
                                        <button class="btn btn-primary mt-1"
                                                style="float: right;" onclick='goAgreement()' th:text="#{label.startdistribution}">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-4 col-lg-5 " id="youtube" style="z-index: 100;">
                        <iframe width="800" height="450"
                                src="https://www.youtube.com/embed/01SZg39z6xA?autoplay=1&mute=1"
                                frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                    </div>

                    <div class="col-xl-12 col-lg-5 " id="loading" style="height: 70px; ">
                        <span style="font-size: 20px; font-weight: bold; width: 100px; float: left" th:text="#{label.distributionprogress}">  </span>
                        <div id="tenor"
                             style=" width:0px ; height: 0px; margin:auto;float: left; margin-top: -10px;">
                            <img src="/image/loading.png" style="width:100px; height: 50px;margin-left: -20px; ">
                        </div>
                    </div>

                    <div class="col-xl-12 col-lg-5 " id="complete" style="height: 70px;"
                         hidden="true">
                        <span style="font-size: 20px; font-weight: bold; width: 225px; float: left" th:text="#{label.depolycomp}">  </span>
                        <a style="font-size: 20px; font-weight: bold;  float: left;" href="/main" th:text="#{label.gotodashboard}"> </a>
                    </div>
                    <!--                <div class="modal-footer">
                                        <button class="btn btn-primary"  type="submit" >등록</button>
                                        <button class="btn btn-secondary" type="button" data-dismiss="modal">취소</button>
                                    </div>-->
                </div>
            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer th:replace="mainfooter.html :: footer"></footer>
            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel" th:text="#{label.logout}"></h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <!--<div class="modal-body">LOGOUT 하시겠습니까?</div>-->
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="/logout">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="billingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="billingModalLabel" th:text="#{label.pleaseenterpaymentinfo}"></h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <!--<div class="modal-body">LOGOUT 하시겠습니까?</div>-->

                <div class="modal-body">
                    <div>
                        <label for="card" th:text="#{label.cardnumber}"></label>
                        <input class="form-control" id="card" type="text" name="card_number" placeholder="XXXX-XXXX-XXXX-XXXX">
                    </div>
                    <div>
                        <label for="expiry" th:text="#{label.cardvalidityperiod}"></label>
                        <input class="form-control" id="expiry" type="text" name="expiry"  placeholder="YYYY-MM">
                    </div>
                    <div>
                        <label for="birth" th:text="#{label.birthday}"></label>
                        <input class="form-control"  id="birth" type="text" name="birth" placeholder="YYMMDD">
                    </div>
                </div>

                <div class="modal-footer">
                    <a class="btn btn-primary" onclick="billingRegister()" th:text="#{label.register}"></a>
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" id="checkDeploy" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkDeployLabel" th:text="#{label.doureallydeploy}"></h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <!--    <div class="modal-body">

                        <span class="m-1 font-size-115 mt-2 mr-2">제품ID를 정해주세요</span>

                        <div class="input-group" >
                            <input class="form-control"
                                   id="rscname" style="border-top-right-radius: .35rem;border-bottom-right-radius: .35rem;">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" onclick='rscCheck()'>
                                    중복체크
                                </button>
                            </div>
                        </div>
                        <span class="m-1 font-size-115 mt-3 mr-2" hidden ="true" id="resultSpan"></span>
                    </div>-->
                <div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" type="submit" onclick='createvm()' id="deployBtn" th:text="#{label.distribution}">
                        </button>
                        <button class="btn btn-secondary" type="button" data-dismiss="modal" th:text="#{label.cancel}"></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>